<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/header.html :: head}"/>
<body>
<div th:insert="~{fragments/navbar :: navbar}"></div>
<main class="d-flex flex-nowrap" style="max-height:none; height: auto">
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>
    <br>
    <div class="row" style="width: 100vw">
<!--        class="offset-2 col-8"-->
        <div>
                <table class="table list-table table-hover text-center">
                    <thead style="background-color: #A5F1E9">
                    <tr>
                      <th style="width: 5%">id</th>
                      <th style="width: 10%">기수 명</th>
                      <th style="width: 25%">태스크 명</th>
                      <th style="width: 10%">주차</th>
                      <th style="width: 10%">일차</th>
                      <th style="width: 20%">태스크 상태</th>
                      <th style="width: 20%">*</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="task: ${taskList}">
                      <td style="width: 5%" th:text="${task.id}"/>
                      <td style="width: 10%" th:text="${task.courseName}"/>
                      <td style="width: 25%" th:text="${task.title}"/>
                      <td style="width: 10%" th:text="${task.week}"/>
                      <td style="width: 10%" th:text="${task.day}"/>
                      <td style="width: 20%" th:text="${task.status}"/>
                      <td style="width: 20%">
                        <a th:href="@{'/tasks/' + ${task.id}}" style="display: inline-block;">
                          <button type="button" class="btn btn-primary">수정</button>
                        </a>
                        <form id="delete-form" th:action="@{'/tasks/' + ${task.id} + '/delete'}" th:method="post" style="display: inline-block">
                          <input type="hidden" name="_method" value="delete"/>
                          <input type="submit" id="delete-btn" class="btn btn-primary" value="삭제"/>
                        </form>
                      </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        <div align="center">
            <br/>
            <button class="btn page-btn" th:if="${nowPage != 1}" th:onclick="|location.href = '@{/(page=${1})}'|">&lt;&lt;</button>
            <button class="btn page-btn" th:if="${nowPage != 1}" th:onclick="|location.href='@{/(page=${nowPage - 1})}'|">[[${nowPage - 1}]]</button>
            <button class="btn page-btn-now">[[${nowPage}]]</button>
            <button class="btn page-btn" th:if="${nowPage != lastPage}" th:onclick="|location.href='@{/(page=${nowPage + 1})}'|">[[${nowPage + 1}]]</button>
            <button class="btn page-btn" th:if="${nowPage != lastPage}" th:onclick="|location.href='@{/(page=${lastPage})}'|">&gt;&gt;</button>
            <br/><br/><br/>
        </div>
    </div>
    <!--    <div class="col" style="margin: 30px 0px 10px 0px;">-->
    <!--        <div class="offset-10">-->
    <!--            <button class="btn body-btn" onclick="location.href='/tasks/write'">-->
    <!--                TASK 등록-->
    <!--            </button>-->
    <!--        </div>-->
    <!--    </div>-->

</main>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
</body>
</html>

